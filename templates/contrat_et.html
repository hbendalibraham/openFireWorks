<div class="article">

    <div class="ui attached message">
        <div class="header"> Fiche de suivi des Etudes </div>
        <p></p>
        <div class="ui top right attached label">
            <div class="ui small horizontal statistic">
                <div class="label">
                    N&deg; Contrat &nbsp;&nbsp;&nbsp;
                </div>
                <div class="value">
                    {{ sc.n_c }}
                </div>
            </div>
        </div>
    </div>

    <form class="ui form attached fluid segment" name="form" novalidate >

        <div class="print_ignore">
            <div class="ui mini steps">
                <div class="link step" onclick="window.history.back()" >
                    <i class="chevron left icon"></i>
                    <div class="content">
                        <div class="title">PRECEDENTE</div>
                        <div class="description">retourner à la page précédente</div>
                    </div>
                </div>
                <div class="step">
                    <i class="edit icon"></i>
                    <div class="content">
                        <div class="title">PASSATION</div>
                        <div class="description">Préparer le contrat</div>
                    </div>
                </div>
                <div class="step">
                    <i class="settings icon"></i>
                    <div class="content">
                        <div class="title">EXECUTION</div>
                        <div class="description">Passer en mode execution</div>
                    </div>
                </div>
            </div>
            <p>&nbsp;</p>
        </div>

        <input type="hidden" ng-model="sc.id" placeholder="ID">

        <div class="equal width fields">
            <div class="field">
                <label>Responsable de la structure bénéficiaire <i class="red asterisk icon"></i></label>
                <select id="sc_dir" ng-model="sc.dir" class="ui upper">
                    <option value="" selected disabled hidden></option>
                    <option ng-repeat="ele in $parent.userList | filter:{rule:'directeur'}" value="{{ele.username}}">{{ele.username}}</option>
                </select>
            </div>

            <div class="field">
                <label>Pole <i class="red asterisk icon"></i></label>
                <select id="sc_pole" ng-model="sc.pole" class="ui upper">
                    <option value="" selected disabled hidden></option>
                    <option ng-repeat="ele in $parent.userList | filter:{rule:'chantier'}" value="{{ele.username}}">{{ele.username}}</option>
                </select>
            </div>

        </div>
        <div class="field">
            <label>Intitulé du projet <i class="red asterisk icon"></i></label>
            <input type="text" placeholder="Intitulé du projet" maxlength="512" ng-model="sc.int_prj">
        </div>

        <p>
            <div class="ui red ribbon label">
                <i class="edit icon"></i> PASSATION
            </div>
        </p>

        <div class="fields">
            <div class="four wide field">
                <label>Nature de l'opération</label>
                <input type="text" placeholder="Nature de l'opération" maxlength="50" ng-model="sc.nat_op">
            </div>

            <div class="twelve wide field">
                <label>Objet de l'opération</label>
                <input type="text" placeholder="Objet de l'opération" maxlength="256" ng-model="sc.obj_op">
            </div>
        </div>

        <div class="equal width fields">
            <div class="six wide field">
                <label>Mode de passation</label>
                <input type="text" placeholder="Mode de passation" maxlength="256" ng-model="sc.md_pass">
            </div>
        </div>

        <div class="equal width fields">
            <div class="field">
                <label>DELAI EXECUTION DES ETUDES</label>
                <input type="date" placeholder="JJ/MM/AAAA" maxlength="10" ng-model="sc.dt_exet">
            </div>

            <div class="field">
                <label>Montant contractuel HT</label>
                <div class="ui right labeled input">
                    <input type="number" placeholder="xxxx,xx DA" string-to-number ng-model="sc.mnt_con" min="0.00" maxlength="11" step="0.01" >
                    <div class="ui label">
                        DA
                    </div>
                </div>
            </div>
        </div>

        <p>
            <div class="ui red ribbon label">
                <i class="settings icon"></i> EXECUTION
            </div>
        </p>

        <div class="field">
            <label>N° contrat</label>
            <input type="text" placeholder="N° contrat" maxlength="100" ng-model="sc.n_c">
        </div>

        <div class="field">
            <label>Cocontractant</label>
            <input type="text" placeholder="Cocontractant" maxlength="256" ng-model="sc.cocont">
        </div>

        <div class="equal width fields">
          <div class="field">
              <label>ODS début de travaux</label>
              <input type="date" placeholder="JJ/MM/AAAA" maxlength="10" ng-model="sc.dt_ods">
          </div>

          <div class="field">
              <label>Prorogation des délais</label>
              <input type="date" placeholder="JJ/MM/AAAA" maxlength="10" ng-model="sc.dt_pdd">
          </div>

          <div class="field">
              <label>Réception provisoire</label>
              <input type="date" placeholder="JJ/MM/AAAA" maxlength="10" ng-model="sc.dt_rp">
          </div>

          <div class="field">
              <label>Réception définitive</label>
              <input type="date" placeholder="JJ/MM/AAAA" maxlength="10" ng-model="sc.dt_rd">
          </div>

        </div>

        <p>
            <div class="ui red ribbon label">
                <i class="euro icon"></i> FINANCES
            </div>
        </p>

        <div class="equal width fields">
            <div class="field">
                <label>Montant des avenants</label>
                <div class="ui right labeled input">
                    <input type="number" placeholder="xxxxxx DA" maxlength="11" ng-model="sc.mnt_av">
                    <div class="ui label">
                        DA
                    </div>
                </div>
            </div>

            <div class="field">
                <label>Total des paiement</label>
                <div class="ui right labeled input">
                    <input type="number" placeholder="xxxxxx DA" maxlength="11" ng-model="sc.mnt_paie">
                    <div class="ui label">
                        DA
                    </div>
                </div>
            </div>

        </div>

        <div class="field">
            <label>Contentieux</label>
            <input type="text" placeholder="Contentieux" maxlength="256" ng-model="sc.cont">
        </div>

        <div class="field">
            <label>Observation</label>
            <input type="text" placeholder="Observation" maxlength="512" ng-model="sc.obs">
        </div>

        <div class="ui field right aligned print_ignore">
            <button class="ui button " ng-click="submit()" ng-class="{'loading': save==1}">Enregistrer</button>
        </div>

    </form>

    <div class="ui bottom mini attached message print_ignore" ng-class="{'hidden': !msg , 'red': msg[0]=='error', 'teal':msg[0]=='done!'}">
        <i class="close icon"></i>
        <div class="header">{{msg[1]}}</div>
        <ul class="list">
            <li ng-repeat="value in msg[2]">{{value}}</li>
        </ul>
    </div>


</div>
