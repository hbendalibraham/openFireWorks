<div class="ui container">
  <form class="ui form" name="cv_form" >
    <div class="ui top attached secondary segment">
      <input type="hidden" name="id" ng-model="cv.id">
      
      <!--img src="{{cv.gravatar}}?s=180&d=mm"-->
      <div class="ui center aligned basic segment">
        <img src="img/image.png" data-src="https://s.gravatar.com/avatar/abea01f5957411556b300b80cece3db7" height="160">
        <h2>{{cv.name}}</h2>
        <a href="mailto:{{cv.email}}"><i class="mail icon" ng-show="cv.email"></i> {{cv.email}}</a>
        <br>
        {{cv.address}}
      </div>


      <p></p>
    
    </div>
    <div class="ui attached segment">

      <p>
        <div class="ui blue ribbon label"><i class="user icon"></i> Contact</div>
      </p>
      
      <div class="field">
        <label>Nom / Réson sociale</label>
        <div class="ui left corner labeled input">
          <input type="text" ng-model="cv.name" placeholder="Nom ou Réson sociale" required>
          <div class="ui left corner label">
            <i class="inverted asterisk icon"></i>
          </div>
        </div>
      </div>

      <div class="field">
        <label>Address</label>
        <textarea ng-model="cv.address"></textarea>
      </div>

      <div class="equal width fields">

        <div class="field">
          <label>Client / Fournisseur</label>
          <select class="ui dropdown" ng-model="cv.type_contact" required>
            <option value="">Type de contact</option>
            <option value="F">Fournisseur</option>
            <option value="C">Client</option>
            <option value="D">Divers</option>
          </select>
        </div>

        <div class="field">
          <label>CREDIT</label>
          <div class="ui right labeled input">
            <input type="number" step="0.01" placeholder="" ng-model="cv.credit" stringToNumber>
            <div class="ui label" ng-class="{'green':cv.credit>0, 'red':cv.credit<0}">
              DA
            </div>
          </div>
        </div>

      </div>


      <div class="field">
        <label>Note</label>
        <textarea ng-model="cv.note"></textarea>
      </div>

      <p>
        <div class="ui blue ribbon label"><i class="call icon"></i> Plus</div>
      </p>
      
      <div class="field">

        <table class="ui yellow table">
          <tbody>
            <tr ng-repeat="ele in cv.contact">
              <td>
                <div class="ui transparent input">
                  <input type="text" placeholder="Nom" ng-model="ele.name">
                </div>
              </td>
              <td>
                <div class="ui transparent input">
                  <input type="text" placeholder="type" ng-model="ele.type" list="tp_contact">
                  <datalist id="tp_contact">
                    <option value="Tél"/>
                    <option value="Fax"/>
                    <option value="Mobile"/>
                    <option value="Email"/>
                  </datalist>
                </div>
                <!--select class="ui dropdown" ng-model="ele.type" required>
                  <option value=""></option>
                  <option value="T">Tél</option>
                  <option value="F">Fax</option>
                  <option value="M">Mobile</option>
                  <option value="E">Email</option>
                </select-->
              </td>
              <td>
                <div class="ui transparent input">
                  <input type="text" placeholder="contact" ng-model="ele.value">
                </div>
              </td>
            </tr>
          </tbody>
        </table>
        <div class="ui right floated mini button" ng-click="add_number()">
          <i class="user icon"></i> Ajouter un numéro
        </div>
        <p>&nbsp;</p>
        <p>&nbsp;</p>

      </div>

    </div>


    <div class="ui bottom attached right aligned secondary segment">
      
      <div class="ui info message" ng-show="msg">
        <i class="close icon"></i>
        <ul class="list">
          {{msg}}
        </ul>
      </div>

      <div class="ui cancel button" ng-click="delete()" ng-class="{'loading':spiner_del}">
        <i class="remove icon"></i>
        Supprimer le contact
      </div>
      <button class="ui green ok button" ng-click="submit()" type="submit" ng-class="{'loading':spiner_save}">
        <i class="checkmark icon"></i>
        Enregistrer
      </button>
    </div>
    
    <!--div class="ui attached error message"></div-->

    <p></p>
  </form>


  <div class="ui mini modal">
    <div class="header">{{profile.firstname}} {{profile.lastname}}</div>
    <div class="content">
      <p>Etre vous sure de vouloir supprimer ce contacts ?</p>
    </div>
    <div class="actions">
      <div class="ui red cancel inverted button">
        <i class="remove icon"></i>
        Annuler
      </div>
      <div class="ui green ok inverted button">
        <i class="checkmark icon"></i>
        Supprimer
      </div>
    </div>
  </div>
</div>