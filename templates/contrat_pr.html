<div class="article">

    <div class="ui attached message">
        <div class="header"> Fiche de suivi Procurement </div>
        <p>{{sc.type}}</p>
        <div class="ui top right attached label">
            <div class="ui small horizontal statistic">
                <div class="label">
                    N&deg; CDC &nbsp;&nbsp;&nbsp;
                </div>
                <div class="value">
                    {{ sc.n_cdc }}
                </div>
                <div class="label">
                    N&deg; Contrat &nbsp;&nbsp;&nbsp;
                </div>
                <div class="value">
                    {{ sc.n_c }}
                </div>
            </div>
        </div>
    </div>

    <form class="ui form attached fluid segment" name="form" ng-model="sc" ng-submit="form.$valid && submit()" >

        <div class="print_ignore">
            <div class="ui mini steps">
                <div class="link step" onclick="window.history.back()" >
                    <i class="chevron left icon"></i>
                    <div class="content">
                        <div class="title">PRECEDENTE</div>
                        <div class="description">retourner à la page précédente</div>
                    </div>
                </div>
                <div class="step">
                    <i class="edit icon"></i>
                    <div class="content">
                        <div class="title">PASSATION</div>
                        <div class="description">Préparer le contrat</div>
                    </div>
                </div>
                <div class="step">
                    <i class="settings icon"></i>
                    <div class="content">
                        <div class="title">EXECUTION</div>
                        <div class="description">Passer en mode execution</div>
                    </div>
                </div>
            </div>
            <p>&nbsp;</p>
        </div>

        <input type="hidden" ng-model="sc.id">
        <input type="hidden" ng-model="sc.type">

        <p>
            <div class="ui red ribbon label">
                <i class="edit icon"></i> PASSATION
            </div>
        </p>

        <div class="equal width fields">
            <!--div class="field">
                <label>Type de cahiers des charges :<i class="red asterisk icon"></i></label>
                <select class="ui " id="sc_type" ng-model="sc.type">
                    <option value="" selected disabled hidden></option>
                    <option value="Importation">Importation</option>
                    <option value="Achats Locaux">Achats Locaux</option>
                </select>
            </div-->

            <div class="field">
                <label>Nature de cahiers des charges :<i class="red asterisk icon"></i></label>
                <select class="ui " id="sc_nature" ng-model="sc.nature">
                    <option value="" selected disabled hidden></option>
                    <option value="Investissement">Investissement</option>
                    <option value="Fourniture">Fourniture</option>
                </select>
            </div>
        </div>

        <div class="fields">
            <div class="four wide field">
                <label>N° cahier des charge</label>
                <input type="text" placeholder="N cahier des charge" maxlength="50" ng-model="sc.n_cdc">
            </div>

            <div class="twelve wide field">
                <label>Intitulé du cahiers des charges</label>
                <input type="text" placeholder="Intitulé du cahiers des charges" maxlength="512" ng-model="sc.i_cdc">
            </div>
        </div>

        <div class="equal width fields">
            <div class="field">
                <label>Pole</label>
                <select id="sc_pole" ng-model="sc.pole" class="ui upper">
                    <option value="" selected disabled hidden></option>
                    <option ng-repeat="ele in $parent.userList | filter:{rule:'chantier'}" value="{{ele.username}}">{{ele.username}}</option>
                </select>
            </div>
            <div class="field">
                <label>Directeur</label>
                <select id="sc_dir" ng-model="sc.dir" class="ui upper">
                    <option value="" selected disabled hidden></option>
                    <option ng-repeat="ele in $parent.userList | filter:{rule:'directeur'}" value="{{ele.username}}">{{ele.username}}</option>
                </select>
            </div>
        </div>

        <div class="equal width fields">
            <div class="field">
                <label>Date envoi pour validation</label>
                <input type="date" placeholder="JJ/MM/AAAA" maxlength="10" ng-model="sc.date_evg">
            </div>

            <div class="field">
                <label>Date validation GROUPE</label>
                <input type="date" placeholder="JJ/MM/AAAA" maxlength="10" ng-model="sc.date_vg">
            </div>
        </div>

        <div class="equal width fields">
            <div class="field">
                <label>Date Lancement</label>
                <input type="date" placeholder="JJ/MM/AAAA" maxlength="10" ng-model="sc.date_l">
            </div>

            <div class="field">
                <label>Date Ouverture</label>
                <input type="date" placeholder="JJ/MM/AAAA" maxlength="10" ng-model="sc.date_o">
            </div>

            <div class="field">
                <label>Date Analyse</label>
                <input type="date" placeholder="JJ/MM/AAAA" maxlength="10" ng-model="sc.date_a">
            </div>
        </div>




        <div class="equal width fields">
            <div class="field">
                <label>Fournisseur retenu</label>
                <input type="text" list="frs" ng-model="sc.frs" maxlength="256">
                <datalist id="frs">
                    <option ng-repeat="ele in $parent.fournisseur" value="{{ele.nom}}" >
                </datalist>
            </div>

            <div class="field">
                <label>Montant HT</label>
                <div class="ui right labeled input">
                    <input type="number" placeholder="xxxx,xx DA" string-to-number ng-model="sc.mnt" min="0.00" maxlength="11" step="0.01">
                    <div class="ui label">
                        DA
                    </div>
                </div>
            </div>
        </div>

        <div class="equal width fields">
            <div class="field">
                <label>Date attribution provisoire</label>
                <input type="date" placeholder="JJ/MM/AAAA" maxlength="10" ng-model="sc.date_ap">
            </div>
            <div class="field">
                <label>Date envoi pour validation</label>
                <input type="date" placeholder="JJ/MM/AAAA" maxlength="10" ng-model="sc.date_ev">
            </div>
            <div class="field">
                <label>Date validation</label>
                <input type="date" placeholder="JJ/MM/AAAA" maxlength="10" ng-model="sc.date_v">
            </div>
        </div>


        <p>
            <div class="ui red ribbon label">
                <i class="settings icon"></i> EXECUTION
            </div>
        </p>

        <div class="equal width fields">
            <div class="field">
                <label>N° contrat</label>
                <input type="text" placeholder="ex: STR-bt/...." maxlength="50" ng-model="sc.n_c">
            </div>

            <div class="field">
                <label>Date contrat</label>
                <input type="date" placeholder="JJ/MM/AAAA" maxlength="10" ng-model="sc.date_c">
            </div>

            <div class="field">
                <label>Etat contrat :</label>

                <select class="ui " id="sc_et_c" ng-model="sc.et_c">
                    <option value="" selected disabled hidden></option>
                    <option value="en signature FRS">en signature FRS</option>
                    <option value="en signature DG">en signature DG</option>
                </select>
                
            </div>
        </div>



        <div class="field">
            <label>Date prévisionnelle de livraison</label>
            <input type="date" placeholder="JJ/MM/AAAA" maxlength="10" ng-model="sc.date_lv">

<!--datepicker date-format="dd/MM/yyyy" selector="form-control">
        <input class="form-control" placeholder="Choose a date"/>
</datepicker-->

        </div>


        <div class="ui field right aligned print_ignore">
            <button class="ui button " ng-class="{'loading': save==1}">Enregistrer</button>
        </div>

    </form>

    <div class="ui bottom mini attached message print_ignore" ng-class="{'hidden': !msg , 'red': msg[0]=='error', 'teal':msg[0]=='done!'}">
        <i class="close icon"></i>
        <div class="header">{{msg[1]}}</div>
        <ul class="list">
            <li ng-repeat="value in msg[2]">{{value}}</li>
        </ul>
    </div>

</div>
